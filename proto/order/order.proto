syntax = "proto3";

package proto_order;

option go_package = "github.com/vsespontanno/eCommerce/internal/proto/order";

service OrderService {
  rpc CreateOrderSaga(CreateOrderSagaRequest) returns (CreateOrderSagaResponse);
  rpc CancelOrderSaga(CancelOrderRequest) returns (CancelOrderResponse);
}

message CreateOrderSagaRequest {
  int64 user_id = 1;
  repeated OrderItem items = 2;
  int64 amount = 3;
}

message OrderItem {
  int64 product_id = 1;
  int64 quantity = 2;
}

message CreateOrderSagaResponse {
  string order_id = 1;
  string status = 2;
  string error = 3;
}

message CancelOrderRequest {
  string order_id = 1;
}

message CancelOrderResponse {
  bool success = 1;
  string error = 2;
}